Rating estimation code:

To compile and test:
% gcc -Ofast perfratingsim.c -lm -o perfratingsim
% ./perfratingsim

The program assigns random ratings to some players, simulates games, and then
tries to predict the ratings from the game results.
